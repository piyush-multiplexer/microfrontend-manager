/* single-spa@5.9.2 - ES2015 - prod */
import{LOAD_ERROR as t}from"single-spa";var e=Object.freeze({__proto__:null,get start(){return jt},get ensureJQuerySupport(){return ut},get setBootstrapMaxTime(){return K},get setMountMaxTime(){return F},get setUnmountMaxTime(){return J},get setUnloadMaxTime(){return H},get registerApplication(){return Et},get unregisterApplication(){return yt},get getMountedApps(){return dt},get getAppStatus(){return gt},get unloadApplication(){return Ot},get checkActivityFunctions(){return vt},get getAppNames(){return wt},get pathToActiveWhen(){return bt},get navigateToUrl(){return Z},get triggerAppChange(){return _t},get addErrorHandler(){return s},get removeErrorHandler(){return u},get mountRootParcel(){return B},get NOT_LOADED(){return l},get LOADING_SOURCE_CODE(){return f},get NOT_BOOTSTRAPPED(){return p},get BOOTSTRAPPING(){return h},get NOT_MOUNTED(){return m},get MOUNTING(){return d},get UPDATING(){return g},get LOAD_ERROR(){return v},get MOUNTED(){return w},get UNMOUNTING(){return E},get SKIP_BECAUSE_BROKEN(){return y}}),n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent,r=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};let o=[];function i(t,e,n){const r=c(t,e,n);o.length?o.forEach(t=>t(r)):setTimeout(()=>{throw r})}function s(t){if("function"!=typeof t)throw Error(a(28,!1));o.push(t)}function u(t){if("function"!=typeof t)throw Error(a(29,!1));let e=!1;return o=o.filter(n=>{const r=n===t;return e=e||r,!r}),e}function a(t,e,...n){return`single-spa minified message #${t}: ${e?e+" ":""}See https://single-spa.js.org/error/?code=${t}${n.length?`&arg=${n.join("&arg=")}`:""}`}function c(t,e,n){const r=`${A(e)} '${T(e)}' died in status ${e.status}: `;let o;if(t instanceof Error){try{t.message=r+t.message}catch(t){}o=t}else{console.warn(a(30,!1,e.status,T(e)));try{o=Error(r+JSON.stringify(t))}catch(e){o=t}}return o.appOrParcelName=T(e),e.status=n,o}const l="NOT_LOADED",f="LOADING_SOURCE_CODE",p="NOT_BOOTSTRAPPED",h="BOOTSTRAPPING",m="NOT_MOUNTED",d="MOUNTING",w="MOUNTED",g="UPDATING",E="UNMOUNTING",v="LOAD_ERROR",y="SKIP_BECAUSE_BROKEN";function O(t){return t.status===w}function P(t){try{return t.activeWhen(window.location)}catch(e){return i(e,t,y),!1}}function T(t){return t.name}function b(t){return Boolean(t.unmountThisParcel)}function A(t){return b(t)?"parcel":"application"}function N(){for(let t=arguments.length-1;t>0;t--)for(let e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return arguments[0]}function S(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return t[n];return null}function _(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!S(e,t=>"function"!=typeof t)));var e}function D(t,e){let n=t[e]||[];n=Array.isArray(n)?n:[n],0===n.length&&(n=[()=>Promise.resolve()]);const r=A(t),o=T(t);return function(t){return n.reduce((n,i,s)=>n.then(()=>{const n=i(t);return U(n)?n:Promise.reject(a(15,!1,r,o,e,s))}),Promise.resolve())}}function U(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function M(t,e){return Promise.resolve().then(()=>t.status!==p?t:(t.status=h,t.bootstrap?Q(t,"bootstrap").then(n).catch(n=>{if(e)throw c(n,t,y);return i(n,t,y),t}):Promise.resolve().then(n)));function n(){return t.status=m,t}}function j(t,e){return Promise.resolve().then(()=>{if(t.status!==w)return t;t.status=E;const n=Object.keys(t.parcels).map(e=>t.parcels[e].unmountThisParcel());return Promise.all(n).then(r,n=>r().then(()=>{const r=Error(n.message);if(e)throw c(r,t,y);i(r,t,y)})).then(()=>t);function r(){return Q(t,"unmount").then(()=>{t.status=m}).catch(n=>{if(e)throw c(n,t,y);i(n,t,y)})}})}let L=!1,R=!1;function $(t,e){return Promise.resolve().then(()=>t.status!==m?t:(L||(window.dispatchEvent(new r("single-spa:before-first-mount")),L=!0),Q(t,"mount").then(()=>(t.status=w,R||(window.dispatchEvent(new r("single-spa:first-mount")),R=!0),t)).catch(n=>{return t.status=w,j(t,!0).then(r,r);function r(){if(e)throw c(n,t,y);return i(n,t,y),t}})))}let I=0;const x={parcels:{}};function B(){return G.apply(x,arguments)}function G(t,e){const n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(a(2,!1));if(t.name&&"string"!=typeof t.name)throw Error(a(3,!1,typeof t.name));if("object"!=typeof e)throw Error(a(4,!1,name,typeof e));if(!e.domElement)throw Error(a(5,!1,name));const r=I++,o="function"==typeof t,i=o?t:()=>Promise.resolve(t),s={id:r,parcels:{},status:o?f:p,customProps:e,parentName:T(n),unmountThisParcel:()=>d.then(()=>{if(s.status!==w)throw Error(a(6,!1,name,s.status));return j(s,!0)}).then(t=>(s.parentName&&delete n.parcels[s.id],t)).then(t=>(E(t),t)).catch(t=>{throw s.status=y,v(t),t})};let u;n.parcels[r]=s;let l=i();if(!l||"function"!=typeof l.then)throw Error(a(7,!1));l=l.then(t=>{if(!t)throw Error(a(8,!1));const e=t.name||`parcel-${r}`;if(Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!_(t.bootstrap))throw Error(a(9,!1,e));if(!_(t.mount))throw Error(a(10,!1,e));if(!_(t.unmount))throw Error(a(11,!1,e));if(t.update&&!_(t.update))throw Error(a(12,!1,e));const n=D(t,"bootstrap"),o=D(t,"mount"),i=D(t,"unmount");s.status=p,s.name=e,s.bootstrap=n,s.mount=o,s.unmount=i,s.timeouts=V(t.timeouts),t.update&&(s.update=D(t,"update"),u.update=function(t){return s.customProps=t,C(function(t){return Promise.resolve().then(()=>{if(t.status!==w)throw Error(a(32,!1,T(t)));return t.status=g,Q(t,"update").then(()=>(t.status=w,t)).catch(e=>{throw c(e,t,y)})})}(s))})});const h=l.then(()=>M(s,!0)),d=h.then(()=>$(s,!0));let E,v;const O=new Promise((t,e)=>{E=t,v=e});return u={mount:()=>C(Promise.resolve().then(()=>{if(s.status!==m)throw Error(a(13,!1,name,s.status));return n.parcels[r]=s,$(s)})),unmount:()=>C(s.unmountThisParcel()),getStatus:()=>s.status,loadPromise:C(l),bootstrapPromise:C(h),mountPromise:C(d),unmountPromise:C(O)},u}function C(t){return t.then(()=>null)}function W(t){const n=T(t);let r="function"==typeof t.customProps?t.customProps(n,window.location):t.customProps;("object"!=typeof r||null===r||Array.isArray(r))&&(r={},console.warn(a(40,!1),n,r));const o=N({},r,{name:n,mountParcel:G.bind(t),singleSpa:e});return b(t)&&(o.unmountSelf=t.unmountThisParcel),o}const k={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}};function K(t,e,n){if("number"!=typeof t||t<=0)throw Error(a(16,!1));k.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||1e3}}function F(t,e,n){if("number"!=typeof t||t<=0)throw Error(a(17,!1));k.mount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}}function J(t,e,n){if("number"!=typeof t||t<=0)throw Error(a(18,!1));k.unmount={millis:t,dieOnTimeout:e,warningMillis:n||1e3}}function H(t,e,n){if("number"!=typeof t||t<=0)throw Error(a(19,!1));k.unload={millis:t,dieOnTimeout:e,warningMillis:n||1e3}}function Q(t,e){const n=t.timeouts[e],r=n.warningMillis,o=A(t);return new Promise((i,s)=>{let u=!1,c=!1;t[e](W(t)).then(t=>{u=!0,i(t)}).catch(t=>{u=!0,s(t)}),setTimeout(()=>f(1),r),setTimeout(()=>f(!0),n.millis);const l=a(31,!1,e,o,T(t),n.millis);function f(t){if(!u)if(!0===t)c=!0,n.dieOnTimeout?s(Error(l)):console.error(l);else if(!c){const e=t,o=e*r;console.warn(l),o+r<n.millis&&setTimeout(()=>f(e+1),r)}}})}function V(t){const e={};for(let n in k)e[n]=N({},k[n],t&&t[n]||{});return e}function q(t){return Promise.resolve().then(()=>{if(t.loadPromise)return t.loadPromise;if(t.status!==l&&t.status!==v)return t;let e,n;return t.status=f,t.loadPromise=Promise.resolve().then(()=>{const r=t.loadApp(W(t));if(!U(r))throw n=!0,Error(a(33,!1,T(t)));return r.then(n=>{let r;t.loadErrorTime=null,e=n,"object"!=typeof e&&(r=34),Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!_(e.bootstrap)&&(r=35),_(e.mount)||(r=36),_(e.unmount)||(r=37);const o=A(e);if(r){let n;try{n=JSON.stringify(e)}catch(t){}return console.error(a(r,!1,o,T(t),n),e),i(void 0,t,y),t}return e.devtools&&e.devtools.overlays&&(t.devtools.overlays=N({},t.devtools.overlays,e.devtools.overlays)),t.status=p,t.bootstrap=D(e,"bootstrap"),t.mount=D(e,"mount"),t.unmount=D(e,"unmount"),t.unload=D(e,"unload"),t.timeouts=V(e.timeouts),delete t.loadPromise,t})}).catch(e=>{let r;return delete t.loadPromise,n?r=y:(r=v,t.loadErrorTime=(new Date).getTime()),i(e,t,r),t})})}const z="undefined"!=typeof window,X={hashchange:[],popstate:[]},Y=["hashchange","popstate"];function Z(t){let e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(a(14,!1));e=t.currentTarget.href,t.preventDefault()}const n=it(window.location.href),r=it(e);0===e.indexOf("#")?window.location.hash=r.hash:n.host!==r.host&&r.host?window.location.href=e:r.pathname===n.pathname&&r.search===n.search?window.location.hash=r.hash:window.history.pushState(null,null,e)}function tt(t){if(t){const e=t[0].type;Y.indexOf(e)>=0&&X[e].forEach(e=>{try{e.apply(this,t)}catch(t){setTimeout(()=>{throw t})}})}}let et;function nt(){Dt([],arguments)}function rt(t,e){return function(){const n=window.location.href,r=t.apply(this,arguments),o=window.location.href;return et&&n===o||(Lt()?window.dispatchEvent(ot(window.history.state,e)):Dt([])),r}}function ot(t,e){let n;try{n=new PopStateEvent("popstate",{state:t})}catch(e){n=document.createEvent("PopStateEvent"),n.initPopStateEvent("popstate",!1,!1,t)}return n.singleSpa=!0,n.singleSpaTrigger=e,n}if(z){window.addEventListener("hashchange",nt),window.addEventListener("popstate",nt);const t=window.addEventListener,e=window.removeEventListener;window.addEventListener=function(e,n){if(!("function"==typeof n&&Y.indexOf(e)>=0)||S(X[e],t=>t===n))return t.apply(this,arguments);X[e].push(n)},window.removeEventListener=function(t,n){if(!("function"==typeof n&&Y.indexOf(t)>=0))return e.apply(this,arguments);X[t]=X[t].filter(t=>t!==n)},window.history.pushState=rt(window.history.pushState,"pushState"),window.history.replaceState=rt(window.history.replaceState,"replaceState"),window.singleSpaNavigate?console.warn(a(41,!1)):window.singleSpaNavigate=Z}function it(t){const e=document.createElement("a");return e.href=t,e}let st=!1;function ut(t=window.jQuery){if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!st){const e=t.fn.on,n=t.fn.off;t.fn.on=function(t,n){return at.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,e){return at.call(this,n,window.removeEventListener,t,e,arguments)},st=!0}}function at(t,e,n,r,o){return"string"!=typeof n?t.apply(this,o):(n.split(/\s+/).forEach(t=>{Y.indexOf(t)>=0&&(e(t,r),n=n.replace(t,""))}),""===n.trim()?this:t.apply(this,o))}const ct={};function lt(e){return Promise.resolve().then(()=>{const n=ct[T(e)];if(!n)return e;if(e.status===l)return ft(e,n),e;if("UNLOADING"===e.status)return n.promise.then(()=>e);if(e.status!==m&&e.status!==t)return e;const r=e.status===t?Promise.resolve():Q(e,"unload");return e.status="UNLOADING",r.then(()=>(ft(e,n),e)).catch(t=>(function(t,e,n){delete ct[T(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,i(n,t,y),e.reject(n)}(e,n,t),e))})}function ft(t,e){delete ct[T(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=l,e.resolve()}function pt(t,e,n,r){ct[T(t)]={app:t,resolve:n,reject:r},Object.defineProperty(ct[T(t)],"promise",{get:e})}function ht(t){return ct[t]}const mt=[];function dt(){return mt.filter(O).map(T)}function wt(){return mt.map(T)}function gt(t){const e=S(mt,e=>T(e)===t);return e?e.status:null}function Et(t,e,n,r){const o=function(t,e,n,r){const o={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"==typeof t?(function(t){if(Array.isArray(t)||null===t)throw Error(a(39,!1));const e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce((t,n)=>e.indexOf(n)>=0?t:t.concat(n),[]);if(0!==n.length)throw Error(a(38,!1,e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(a(20,!1));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(a(20,!1));const r=t=>"string"==typeof t||"function"==typeof t;if(!(r(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(r)))throw Error(a(24,!1));if(!Tt(t.customProps))throw Error(a(22,!1))}(t),o.name=t.name,o.loadApp=t.app,o.activeWhen=t.activeWhen,o.customProps=t.customProps):(function(t,e,n,r){if("string"!=typeof t||0===t.length)throw Error(a(20,!1));if(!e)throw Error(a(23,!1));if("function"!=typeof n)throw Error(a(24,!1));if(!Tt(r))throw Error(a(22,!1))}(t,e,n,r),o.name=t,o.loadApp=e,o.activeWhen=n,o.customProps=r),o.loadApp="function"!=typeof(i=o.loadApp)?()=>Promise.resolve(i):i,o.customProps=function(t){return t||{}}(o.customProps),o.activeWhen=function(t){let e=Array.isArray(t)?t:[t];return e=e.map(t=>"function"==typeof t?t:bt(t)),t=>e.some(e=>e(t))}(o.activeWhen),o;var i}(t,e,n,r);if(-1!==wt().indexOf(o.name))throw Error(a(21,!1,o.name));mt.push(N({loadErrorTime:null,status:l,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),z&&(ut(),Dt())}function vt(t=window.location){return mt.filter(e=>e.activeWhen(t)).map(T)}function yt(t){if(0===mt.filter(e=>T(e)===t).length)throw Error(a(25,!1,t));return Ot(t).then(()=>{const e=mt.map(T).indexOf(t);mt.splice(e,1)})}function Ot(t,e={waitForUnmount:!1}){if("string"!=typeof t)throw Error(a(26,!1));const n=S(mt,e=>T(e)===t);if(!n)throw Error(a(27,!1,t));const r=ht(T(n));if(e&&e.waitForUnmount){if(r)return r.promise;{const t=new Promise((e,r)=>{pt(n,()=>t,e,r)});return t}}{let t;return r?(t=r.promise,Pt(n,r.resolve,r.reject)):t=new Promise((e,r)=>{pt(n,()=>t,e,r),Pt(n,e,r)}),t}}function Pt(t,e,n){j(t).then(lt).then(()=>{e(),setTimeout(()=>{Dt()})}).catch(n)}function Tt(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)}function bt(t,e){const n=function(t,e){let n=0,r=!1,o="^";"/"!==t[0]&&(t="/"+t);for(let e=0;e<t.length;e++){const n=t[e],o=r&&"/"===n;(!r&&":"===n||o)&&i(e)}return i(t.length),new RegExp(o,"i");function i(i){const s=t.slice(n,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(o+=r?"[^/]+/?":s,i===t.length)if(r)e&&(o+="$");else{const t=e?"":".*";o="/"===o.charAt(o.length-1)?`${o}${t}$`:`${o}(/${t})?(#.*)?$`}r=!r,n=i}}(t,e);return t=>{const e=t.href.replace(t.origin,"").replace(t.search,"").split("?")[0];return n.test(e)}}let At=!1,Nt=[],St=z&&window.location.href;function _t(){return Dt()}function Dt(t=[],e){if(At)return new Promise((t,n)=>{Nt.push({resolve:t,reject:n,eventArguments:e})});const{appsToUnload:n,appsToUnmount:o,appsToLoad:i,appsToMount:s}=function(){const t=[],e=[],n=[],r=[],o=(new Date).getTime();return mt.forEach(i=>{const s=i.status!==y&&P(i);switch(i.status){case v:s&&o-i.loadErrorTime>=200&&n.push(i);break;case l:case f:s&&n.push(i);break;case p:case m:!s&&ht(T(i))?t.push(i):s&&r.push(i);break;case w:s||e.push(i)}}),{appsToUnload:t,appsToUnmount:e,appsToLoad:n,appsToMount:r}}();let u,a=!1,c=St,h=St=window.location.href;return Lt()?(At=!0,u=n.concat(i,o,s),Promise.resolve().then(()=>{if(window.dispatchEvent(new r(0===u.length?"single-spa:before-no-app-change":"single-spa:before-app-change",O(!0))),window.dispatchEvent(new r("single-spa:before-routing-event",O(!0,{cancelNavigation:d}))),a)return window.dispatchEvent(new r("single-spa:before-mount-routing-event",O(!0))),g(),void Z(c);const e=n.map(lt),l=o.map(j).map(t=>t.then(lt)).concat(e),f=Promise.all(l);f.then(()=>{window.dispatchEvent(new r("single-spa:before-mount-routing-event",O(!0)))});const p=i.map(t=>q(t).then(t=>Ut(t,f))),h=s.filter(t=>i.indexOf(t)<0).map(t=>Ut(t,f));return f.catch(t=>{throw E(),t}).then(()=>(E(),Promise.all(p.concat(h)).catch(e=>{throw t.forEach(t=>t.reject(e)),e}).then(g)))})):(u=i,Promise.resolve().then(()=>{const t=i.map(q);return Promise.all(t).then(E).then(()=>[]).catch(t=>{throw E(),t})}));function d(){a=!0}function g(){const e=dt();t.forEach(t=>t.resolve(e));try{const t=0===u.length?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new r(t,O())),window.dispatchEvent(new r("single-spa:routing-event",O()))}catch(t){setTimeout(()=>{throw t})}if(At=!1,Nt.length>0){const t=Nt;Nt=[],Dt(t)}return e}function E(){t.forEach(t=>{tt(t.eventArguments)}),tt(e)}function O(t=!1,r){const f={},p={[w]:[],[m]:[],[l]:[],[y]:[]};t?(i.concat(s).forEach((t,e)=>{g(t,w)}),n.forEach(t=>{g(t,l)}),o.forEach(t=>{g(t,m)})):u.forEach(t=>{g(t)});const d={detail:{newAppStatuses:f,appsByNewStatus:p,totalAppChanges:u.length,originalEvent:null==e?void 0:e[0],oldUrl:c,newUrl:h,navigationIsCanceled:a}};return r&&N(d.detail,r),d;function g(t,e){const n=T(t);e=e||gt(n),f[n]=e,(p[e]=p[e]||[]).push(n)}}}function Ut(t,e){return P(t)?M(t).then(t=>e.then(()=>P(t)?$(t):t)):e.then(()=>t)}let Mt=!1;function jt(t){var e;Mt=!0,t&&t.urlRerouteOnly&&(e=t.urlRerouteOnly,et=e),z&&Dt()}function Lt(){return Mt}z&&setTimeout(()=>{Mt||console.warn(a(1,!1))},5e3);var Rt={getRawAppData:function(){return[...mt]},reroute:Dt,NOT_LOADED:l,toLoadPromise:q,toBootstrapPromise:M,unregisterApplication:yt};z&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=Rt);export{h as BOOTSTRAPPING,f as LOADING_SOURCE_CODE,v as LOAD_ERROR,w as MOUNTED,d as MOUNTING,p as NOT_BOOTSTRAPPED,l as NOT_LOADED,m as NOT_MOUNTED,y as SKIP_BECAUSE_BROKEN,E as UNMOUNTING,g as UPDATING,s as addErrorHandler,vt as checkActivityFunctions,ut as ensureJQuerySupport,wt as getAppNames,gt as getAppStatus,dt as getMountedApps,B as mountRootParcel,Z as navigateToUrl,bt as pathToActiveWhen,Et as registerApplication,u as removeErrorHandler,K as setBootstrapMaxTime,F as setMountMaxTime,H as setUnloadMaxTime,J as setUnmountMaxTime,jt as start,_t as triggerAppChange,Ot as unloadApplication,yt as unregisterApplication};
//# sourceMappingURL=single-spa.min.js.map
